{"version":3,"file":"static/js/991.a924c40b.chunk.js","mappings":"gRACA,EAA+B,8BAA/B,EAA4E,8BAA5E,EAA2H,gCAA3H,EAA6K,iC,SCMvKA,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGCC,EAAU,WACrB,OAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAyBR,OAvBAE,EAAAA,EAAAA,YAAU,YACR,iBAAC,yFACMF,EADN,wDAICD,EAAUN,GAJX,mBAM0BU,EAAAA,EAAAA,IAAgBH,GAN1C,oBAMWI,EANX,EAMWA,MAEEC,QAAQC,OARrB,wBASKP,EAAUN,GACVI,EAAW,IAVhB,kBAWYU,EAAAA,GAAAA,KAAW,eAXvB,QAaKR,EAAUN,GACVI,EAAWO,EAAKC,SAdrB,0DAiBGN,EAAUN,GAjBb,yDAAD,EAoBD,GAAE,CAACO,IAECJ,GAAWE,IAAWL,EAItBG,GAAWE,IAAWL,EAGtBG,GAAWE,IAAWL,EAIvBG,GAAWE,IAAWL,GAEtB,iCACE,qCACA,eAAIe,UAAWC,EAAf,SACGb,EAAQc,KAAI,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,GAAIC,EAAf,EAAeA,QAAf,OACX,gBAAaL,UAAWC,EAAxB,WACE,cAAGD,UAAWC,EAAd,SAAiCE,GAAkB,aACnD,cAAGH,UAAWC,EAAd,SAAkCI,MAF3BD,EADE,cALrB,EAHSL,EAAAA,GAAAA,KAAW,UAHX,SAACO,EAAA,EAAD,KAJA,uBAyBV,C,4MClEKC,EAAU,mCACVC,EAAW,+BAEJC,EAAW,mCAAG,6GAEJC,IAAAA,IAAA,UACdF,EADc,uCACyBD,IAHrB,cAEjBX,EAFiB,yBAKhBA,GALgB,gCAOvBe,QAAQC,IAAR,MAPuB,yDAAH,qDAWXC,EAAe,mCAAG,WAAMC,GAAN,gGAERJ,IAAAA,IAAA,UACdF,EADc,iCACmBD,EADnB,kBACoCO,EADpC,+CAFQ,cAErBlB,EAFqB,yBAKpBA,GALoB,gCAO3Be,QAAQC,IAAR,MAP2B,yDAAH,sDAWfG,EAAe,mCAAG,WAAMvB,GAAN,gGAERkB,IAAAA,IAAA,UACdF,EADc,kBACIhB,EADJ,oBACuBe,EADvB,oBAFQ,cAErBX,EAFqB,yBAKpBA,GALoB,gCAO3Be,QAAQC,IAAR,MAP2B,yDAAH,sDAWfI,EAAe,mCAAG,WAAMxB,GAAN,gGAERkB,IAAAA,IAAA,UACdF,EADc,kBACIhB,EADJ,4BAC+Be,EAD/B,oBAFQ,cAErBX,EAFqB,yBAKpBA,GALoB,gCAO3Be,QAAQC,IAAR,MAP2B,yDAAH,sDAWfjB,EAAe,mCAAG,WAAMH,GAAN,gGAERkB,IAAAA,IAAA,UACdF,EADc,kBACIhB,EADJ,4BAC+Be,EAD/B,2BAFQ,cAErBX,EAFqB,yBAKpBA,GALoB,gCAO3Be,QAAQC,IAAR,MAP2B,yDAAH,qD","sources":["webpack://react-homework-template/./src/pages/Reviews/Reviews.module.css?9a3e","pages/Reviews/Reviews.jsx","services/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviews_list\":\"Reviews_reviews_list__CNHKy\",\"reviews_item\":\"Reviews_reviews_item__B2GRL\",\"reviews_author\":\"Reviews_reviews_author__ljC16\",\"reviews_content\":\"Reviews_reviews_content__HNMlT\"};","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getMovieReviews } from '../../services/API';\nimport { toast } from 'react-toastify';\nimport { Loader } from 'components/Loader';\nimport s from '../Reviews/Reviews.module.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport const Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [status, setStatus] = useState('');\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    (async () => {\n      if (!movieId) {\n        return;\n      }\n      setStatus(Status.PENDING);\n      try {\n        const { data } = await getMovieReviews(movieId);\n\n        if (!data.results.length) {\n          setStatus(Status.REJECTED);\n          setReviews([]);\n          return toast.warn('No reviews');\n        } else {\n          setStatus(Status.RESOLVED);\n          setReviews(data.results);\n        }\n      } catch {\n        setStatus(Status.REJECTED);\n      }\n    })();\n  }, [movieId]);\n\n  if (!reviews && status === Status.IDLE) {\n    return <></>;\n  }\n\n  if (!reviews && status === Status.PENDING) {\n    return <Loader />;\n  }\n  if (!reviews && status === Status.REJECTED) {\n    return toast.warn('Error');\n  }\n\n  if (reviews && status === Status.RESOLVED) {\n    return (\n      <>\n        <h3>Reviews</h3>\n        <ul className={s.reviews_list}>\n          {reviews.map(({ author, id, content }) => (\n            <li key={id} className={s.reviews_item}>\n              <p className={s.reviews_author}>{author ? author : 'no name'}</p>\n              <p className={s.reviews_content}>{content}</p>\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n};","import axios from 'axios';\n\nconst API_KEY = '5787548457546c05a58e27934de5db16';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const getTrending = async () => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getSearchMovies = async query => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovieDetails = async movieId => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovieСredits = async movieId => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovieReviews = async movieId => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};"],"names":["Status","Reviews","useState","reviews","setReviews","status","setStatus","movieId","useParams","useEffect","getMovieReviews","data","results","length","toast","className","s","map","author","id","content","Loader","API_KEY","BASE_URL","getTrending","axios","console","log","getSearchMovies","query","getMovieDetails","getMovieСredits"],"sourceRoot":""}