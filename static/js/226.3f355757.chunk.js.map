{"version":3,"file":"static/js/226.3f355757.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/FilmItem/FilmItem.module.css?43a2","components/FilmItem/FilmItem.jsx","webpack://react-homework-template/./src/components/FilmList/FilmList.module.css?b497","components/FilmList/FilmList.jsx","webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","pages/Movies/Movies.jsx","services/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"film_item\":\"FilmItem_film_item__vdXaX\",\"film_item_image\":\"FilmItem_film_item_image__NOzuA\",\"link\":\"FilmItem_link__bwMhO\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport s from '../FilmItem/FilmItem.module.css';\n\nexport const FilmItem = ({ id, original_title, poster_path }) => {\n  const location = useLocation();\n\n  return (\n    <Link to={`/movies/${id}`} state={{ from: location }} className={s.link}>\n      <li className={s.film_item}>\n        <img\n          className={s.film_item_image}\n          width=\"280\"\n          src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n          alt={original_title}\n        />\n        <p>{original_title}</p>\n      </li>\n    </Link>\n  );\n};\n\nFilmItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  original_title: PropTypes.string,\n  poster_path: PropTypes.string,\n};","// extracted by mini-css-extract-plugin\nexport default {\"film_list\":\"FilmList_film_list__itk-5\",\"error\":\"FilmList_error__ZVyWD\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FilmItem } from 'components/FilmItem';\nimport { Loader} from 'components/Loader';\nimport s from '../FilmList/FilmList.module.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport const FilmList = ({ movies = [], status = Status.IDLE }) => {\n  return (\n    <>\n      {status === Status.RESOLVED && (\n        <ul className={s.film_list}>\n          {movies.map(({ id, original_title, poster_path }) => (\n            <FilmItem\n              key={id}\n              id={id}\n              original_title={original_title}\n              poster_path={poster_path}\n            />\n          ))}\n        </ul>\n      )}\n      {status === Status.PENDING && <Loader />};\n      {status === Status.REJECTED && (\n        <p className={s.error}>Something is wrong...</p>\n      )}\n    </>\n  );\n};\nFilmList.propTypes = {\n  status: PropTypes.string.isRequired,\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      original_title: PropTypes.string,\n      poster_path: PropTypes.string,\n    })\n  ).isRequired,\n};","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"SearchBar_searchbar__xBucJ\",\"form\":\"SearchBar_form__gW7Gj\",\"button\":\"SearchBar_button__T7RTc\",\"input\":\"SearchBar_input__bIy50\"};","import { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport s from '../SearchBar/SearchBar.module.css';\n\nexport const SearchBar = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  const [value, setValue] = useState(query || '');\n\n  const handleChange = event => {\n    setValue(event.currentTarget.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (query?.trim() === '') {\n      return toast.error('Please, specify your request!');\n    }\n    setSearchParams({ query: value });    \n  };\n\n\n  return (\n    <>\n      <div className={s.searchbar}>\n        <form className={s.form} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <AiOutlineSearch stroke=\"black\" size={25} />\n          </button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies\"\n            onChange={handleChange}\n            value={value}\n          />\n        </form>\n      </div>\n    </>\n  );\n};","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchMovies } from '../../services/API';\nimport { FilmList } from 'components/FilmList';\nimport { SearchBar } from 'components/SearchBar';\nimport { toast } from 'react-toastify';\nimport { Loader } from 'components/Loader';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport const Movies = () => {\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(() => {\n    (async () => {\n      if (!query) {\n        return;\n      }\n      setStatus(Status.PENDING);\n      try {\n        const { data } = await getSearchMovies(query);\n\n        if (!data.results.length) {\n          setStatus(Status.REJECTED);\n          setMovies([]);\n          return toast.warn('I did nоt find anything =(');\n        } else {\n          setStatus(Status.RESOLVED);\n          setMovies(data.results);\n        }\n      } catch {\n        setStatus(Status.REJECTED);\n      }\n    })();\n  }, [query]);\n\n  if (!movies && status === Status.IDLE) {\n    return <></>;\n  }\n\n  if (!movies && status === Status.PENDING) {\n    return <Loader />;\n  }\n  if (!movies && status === Status.REJECTED) {\n    return toast.warn('Error');\n  }\n\n  return (\n    <>\n      <SearchBar />\n      {movies.length > 0 && <FilmList movies={movies} status={status} />}\n    </>\n  );\n};","import axios from 'axios';\n\nconst API_KEY = '5787548457546c05a58e27934de5db16';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const getTrending = async () => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getSearchMovies = async query => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovieDetails = async movieId => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovieСredits = async movieId => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovieReviews = async movieId => {\n  try {\n    const data = await axios.get(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};"],"names":["FilmItem","id","original_title","poster_path","location","useLocation","to","state","from","className","s","width","src","alt","Status","FilmList","movies","status","map","Loader","SearchBar","useSearchParams","searchParams","setSearchParams","query","get","useState","value","setValue","onSubmit","event","preventDefault","trim","toast","type","stroke","size","autoComplete","autoFocus","placeholder","onChange","currentTarget","Movies","setMovies","setStatus","useEffect","getSearchMovies","data","results","length","API_KEY","BASE_URL","getTrending","axios","console","log","getMovieDetails","movieId","getMovieСredits","getMovieReviews"],"sourceRoot":""}